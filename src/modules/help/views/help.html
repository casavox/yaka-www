<header id="header" data-current-skin="{{app.getTheme()}}" data-ng-include="'/modules/core/views/header.html'"
    ></header>

<section id="main">

    <aside id="sidebar" data-ng-include="'/modules/core/views/sidebar-left.html'"
           data-ng-class="{ 'toggled': app.sidebarToggle.left }"></aside>

    <div id="content" class="content">
        <div id="accordion" class="container" data-ng-cloak>

            <div class="card col-xs-12 no-padding pointer p-l-10 p-r-10 p-t-5 p-b-5"
                 data-ng-show="vm.pro"
                 data-ng-click="vm.showTuto = !vm.showTuto">
                Bien démarrer sur CasaVox

                <i class="zmdi f-right f-18"
                   data-ng-class="{'zmdi-chevron-down': vm.showTuto, 'zmdi-chevron-up': !vm.showTuto}"></i>
            </div>

            <div uib-collapse="!vm.showTuto" data-ng-show="vm.pro" class="col-xs-12 no-padding">
                <div class="block-header">
                    <h2>Bien débuter sur CasaVox</h2>
                </div>
                <div class="col-xs-12 no-padding">
                    <div class="col-xs-12 card no-padding">
                        <div class="card-header tutoHeaderGray" data-ng-switch="vm.pro.status"
                             data-ng-class="{'bgm-lightblue': vm.pro && vm.pro.status && (vm.pro.status == 'VALIDATED' || vm.pro.status == 'COMPLETED'), 'bgm-orange': vm.pro && vm.pro.status && vm.pro.status == 'WAITING', 'bgm-red': vm.pro && vm.pro.status && vm.pro.status == 'REFUSED'}">
                            <h2 data-ng-switch-when="REGISTERED">
                                1 - JE COMPLÈTE MON PROFIL
                                <small>
                                    Votre profil nécessite d’être complet pour répondre aux offres de chantier
                                </small>
                            </h2>
                            <h2 data-ng-switch-when="VALIDATED">
                            <span>
                                <i class="zmdi zmdi-hc-2x zmdi-check c-white v-align-sub m-r-10"></i> PROFIL VALIDÉ
                            </span>
                                <small>
                                    Vous pouvez compléter votre profil en cliquant sur votre logo avatar depuis la barre
                                    de
                                    menu.
                                </small>
                            </h2>
                            <h2 data-ng-switch-when="COMPLETED">
                            <span>
                                <i class="zmdi zmdi-hc-2x zmdi-check c-white v-align-sub m-r-10"></i> PROFIL COMPLET
                            </span>
                                <small>
                                    Vous pouvez toujours mettre à jour votre profil en cliquant sur votre logo avatar
                                    depuis
                                    la barre de menu.
                                </small>
                            </h2>
                            <h2 data-ng-switch-when="WAITING">
                            <span>
                                <i class="zmdi zmdi-hc-2x zmdi-alert-circle-o c-white v-align-sub m-r-10"></i> PROFIL EN COURS DE VALIDATION
                            </span>
                                <small>
                                    <b>Votre profil est incomplet</b>.<br/>
                                    Merci de compléter les champs obligatoires (en rouge) afin de pouvoir commencer à
                                    répondre aux offres.
                                </small>
                            </h2>
                            <h2 data-ng-switch-when="REFUSED">
                            <span>
                                <i class="zmdi zmdi-hc-2x zmdi-alert-circle-o c-white v-align-sub m-r-10"></i> PROFIL REFUSÉ
                            </span>
                                <small>
                                    Votre compte à été refusé par notre équipe.<br/>
                                    Raison : {{vm.pro.refusedReason}}
                                    <br/>Vous pouvez contacter le support pour toute question.
                                </small>
                            </h2>
                        </div>
                        <div class="col-xs-12 p-18">
                            Précisez ce que vous faites et le secteur dans lequel vous cherchez des chantiers.<br/>
                            Toutes les informations sont vérifiées pour garantir à nos utilisateurs d’être bien mis en
                            contact avec des professionnels sérieux.
                        </div>
                        <div class="col-xs-12 p-18">
                            <button class="btn bgm-orange waves-effect f-right" data-ui-sref="pro-profile">
                                Mettre à jour mon profil
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 no-padding">
                    <div class="col-xs-12 card no-padding">
                        <div class="card-header tutoHeaderGray"
                             data-ng-class="{'bgm-lightblue': vm.pro.step2}">
                            <h2 data-ng-if="!vm.pro.step2">
                            <span>
                                2 - JE DÉVELOPPE MON RÉSEAU
                            </span>
                                <small>
                                    CasaVox c'est le bouche à oreille sur internet !<br>
                                    Plus vous ajoutez de contacts et plus vous aurez de chances de recevoir des offres.
                                </small>
                            </h2>
                            <h2 data-ng-if="vm.pro.step2">
                            <span>
                                <i class="zmdi zmdi-hc-2x zmdi-check c-white v-align-sub m-r-10"></i>BOUCHE À OREILLE
                            </span>
                                <small>
                                    Continuez à développer votre réseau CasaVox pour multiplier vos chances de toucher
                                    de
                                    nouveaux clients, rendez-vous sur le menu « Mes contacts ».
                                </small>
                            </h2>
                        </div>
                        <div class="col-xs-12 p-18">
                            CasaVox c’est le bouche à oreille sur Internet.
                            Invitez vos clients, amis et collègues à vous rejoindre afin de vous recommander auprès de
                            leurs
                            contacts.
                        </div>
                        <div class="col-xs-12 p-18">
                            <button class="btn bgm-orange waves-effect f-right" data-ui-sref="contacts">
                                Ajouter des contacts
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 no-padding">
                    <div class="col-xs-12 card no-padding">
                        <div class="card-header tutoHeaderGray"
                             data-ng-class="{'bgm-lightblue': vm.pro.step3}">
                            <h2 data-ng-if="!vm.pro.step3">
                                3 - JE RÉPONDS AUX OFFRES
                                <small>
                                    Consultez les offres et proposez vos services.
                                </small>
                            </h2>
                            <h2 data-ng-if="vm.pro.step3">
                                <i class="zmdi zmdi-hc-2x zmdi-check c-white v-align-sub m-r-10"></i> TROUVER DE
                                NOUVEAUX
                                CHANTIERS
                                <small>
                                    Rendez-vous sur le menu « Cartes des offres » pour consultez les offres à pouvoir
                                    sur
                                    toute la france.
                                </small>
                            </h2>
                        </div>
                        <div class="col-xs-12 p-18">
                            <b>1/</b> Sélectionnez le Menu « <b>Carte des offres</b> »<br/>
                            <br/>
                            <b>2/</b> Naviguez dans la carte et sélectionnez un offre en cliquant dessus.<br/>
                            <br/>
                            <b>3/</b> Si l'offre de chantier vous intéresse, vous pouvez :<br/>
                            <ul>
                                <li><b>indiquer un prix approximatif</b> (si vous avez assez d’éléments),</li>
                                <li><b>indiquer la date</b> à partir de laquelle vous pourriez intervenir,</li>
                                <li><b>écrire un 1er message</b> au client afin de lui indiquer pourquoi vous êtes la
                                    personne/société la plus adaptée pour réaliser le chantier.
                                    <br/>Ce message débutera la discussion avec votre client qui sera ensuite accessible
                                    à
                                    tout moment
                                    via une <b>messagerie privée</b>.
                                </li>
                            </ul>
                            <b>4/</b> Cliquez sur le bouton « <b>Envoyer la proposition</b> » afin de transmettre la
                            proposition au client.
                        </div>
                        <div class="col-xs-12 p-18">
                            <button class="btn bgm-orange waves-effect f-right" data-ui-sref="findjobs">
                                Voir les offres
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card col-xs-12 no-padding pointer p-l-10 p-r-10 p-t-5 p-b-5"
                 data-ng-show="vm.pro"
                 data-ng-click="vm.showNavigate = !vm.showNavigate">
                Naviguer dans CasaVox

                <i class="zmdi f-right f-18"
                   data-ng-class="{'zmdi-chevron-down': vm.showNavigate, 'zmdi-chevron-up': !vm.showNavigate}"></i>
            </div>

            <div uib-collapse="!vm.showNavigate" data-ng-show="vm.pro" class="col-xs-12 no-padding">
                <div class="block-header">
                    <h2>Menu : Carte des offres</h2>
                </div>
                <div class="col-xs-12 no-padding">
                    <div class="col-xs-12 card no-padding">
                        <div class="card-header">
                            <h2>Comment obtenir de nouveaux chantiers</h2>
                        </div>
                        <div class="card-body card-padding">
                            TEXTE A CHANGER TEXTE A CHANGER TEXTE A CHANGER TEXTE A CHANGER TEXTE A CHANGER
                        </div>
                    </div>
                </div>
            </div>

            <div class="card col-xs-12 no-padding pointer p-l-10 p-r-10 p-t-5 p-b-5"
                 data-ng-show="vm.pro"
                 data-ng-click="vm.showSupport = !vm.showSupport">
                Contacter CasaVox

                <i class="zmdi f-right f-18"
                   data-ng-class="{'zmdi-chevron-down': vm.showSupport, 'zmdi-chevron-up': !vm.showSupport}"></i>
            </div>

            <div uib-collapse="!vm.showSupport" class="col-xs-12 no-padding">

                <div class="block-header">
                    <h2>Support</h2>
                </div>

                <div class="col-xs-12 no-padding card">

                    <form name="supportForm">

                        <div class="col-xs-12 card-header m-b-20">
                            <h2>Vos coordonnées</h2>
                        </div>

                        <div class="card-body card-padding">

                            <div class="col-sm-2 no-padding form-group fg-float m-b-30 supportGenderR"
                                 data-ng-class="{'has-error': !vm.supportMessage.gender}">
                                <div class="fg-line">
                                    <div class="select">
                                        <select name="gender"
                                                required="required"
                                                data-ng-model="vm.supportMessage.gender"
                                                class="form-control">
                                            <option value="" disabled selected></option>
                                            <option data-ng-selected="vm.supportMessage.gender == 'MR'" value="MR">
                                                Monsieur
                                            </option>
                                            <option data-ng-selected="vm.supportMessage.gender == 'MRS'"
                                                    value="MRS">
                                                Madame
                                            </option>
                                        </select>
                                    </div>
                                    <label class="fg-label">Civilité</label>
                                </div>
                                <div data-ng-messages="supportForm.gender.$error">
                                    <small class="help-block" data-ng-message="required">Ce champ est requis
                                    </small>
                                </div>
                            </div>
                            <div class="col-sm-5 no-padding form-group fg-float m-b-30 supportNameLR"
                                 data-ng-class="{'has-error': !vm.supportMessage.firstName}">

                                <div class="fg-line">
                                    <input type="text" name="firstName" class="form-control fg-input"
                                           data-ng-model="vm.supportMessage.firstName"
                                           required="required" yaka-input-name>
                                    <label class="fg-label">Prénom</label>
                                </div>
                                <div data-ng-messages="supportForm.firstName.$error">
                                    <small class="help-block" data-ng-message="required">Ce champ est requis
                                    </small>
                                    <small class="help-block" data-ng-message="invalidName">Ce prénom n'est pas
                                        valide
                                    </small>
                                </div>

                            </div>
                            <div
                                class="col-sm-5 no-padding form-group fg-float m-b-30 supportNameL"
                                data-ng-class="{'has-error': !vm.supportMessage.lastName}">

                                <div class="fg-line">
                                    <input type="text" name="lastName" class="form-control fg-input"
                                           data-ng-model="vm.supportMessage.lastName"
                                           required="required" yaka-input-name>
                                    <label class="fg-label">Nom</label>
                                </div>
                                <div data-ng-messages="supportForm.lastName.$error">
                                    <small class="help-block" data-ng-message="required">Ce champ est requis
                                    </small>
                                    <small class="help-block" data-ng-message="invalidName">Ce nom n'est pas
                                        valide
                                    </small>
                                </div>

                            </div>

                            <div class="col-xs-12 no-padding row m-l-0 m-r-0">
                                <div
                                    class="col-xs-12 no-padding form-group fg-float m-b-30 halfInput halfInputNotInMobile"
                                    data-ng-class="{'has-error': !vm.supportMessage.email}">
                                    <div class="fg-line">
                                        <input type="text" name="email" class="form-control fg-input"
                                               data-ng-model="vm.supportMessage.email"
                                               data-ng-disabled="vm.supportMessage.email && app.getUser()"
                                               required="required" yaka-input-email>
                                        <label class="fg-label">Email</label>
                                    </div>
                                    <div data-ng-messages="supportForm.email.$error">
                                        <small class="help-block" data-ng-message="required">Ce champ est requis</small>
                                        <small class="help-block" data-ng-message="invalidEmail">Cet email n'est pas
                                            valide
                                        </small>
                                    </div>
                                </div>

                                <div
                                    class="col-xs-12 no-padding form-group fg-float m-b-30 halfInput halfInputNotInMobile halfInputRight">
                                    <div class="fg-line">
                                        <input type="text" name="phoneNumber"
                                               class="form-control fg-input"
                                               data-ng-model="vm.supportMessage.phoneNumber" yaka-input-phone>
                                        <label class="fg-label fg-label-phone">Téléphone</label>
                                    </div>
                                    <div data-ng-messages="supportForm.phoneNumber.$error">
                                        <small class="help-block" data-ng-message="invalidPhone">
                                            Ce numéro de téléphone n'est pas valide
                                        </small>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <div class="col-xs-12 card-header m-b-20">
                            <h2>Votre message</h2>
                        </div>

                        <div class="card-body card-padding">

                            <div class="form-group"
                                 data-ng-class="{'has-error': !vm.supportMessage.message}">
                                <div class="fg-line">
                                    <textarea class="form-control" rows="4"
                                              name="aboutMe"
                                              data-ng-model="vm.supportMessage.message"
                                              required="required"
                                              data-auto-size
                                              data-ng-minlength="100"
                                              data-autosize-on="true"
                                              placeholder="Tapez ici votre message"></textarea>
                                </div>
                                <div data-ng-messages="supportForm.aboutMe.$error">
                                    <small class="help-block" data-ng-message="minlength">Le message est trop court (100
                                        caractères min)
                                    </small>
                                    <small class="help-block" data-ng-message="required">Ce champ est requis</small>
                                </div>
                            </div>

                            <span class="c-red" m-b-20>Cochez la case ci-dessous avant d'<i>Envoyer</i></span>

                            <div
                                vc-recaptcha
                                data-ng-model="vm.supportMessage.recaptchaResponse"
                                key="'6LcFnCQTAAAAAGU0Wowjk1y_fsaItUZ3lfftgH7U'"
                                class="hidden-xs"
                                ></div>

                            <div
                                vc-recaptcha
                                data-ng-model="vm.supportMessage.recaptchaResponse"
                                key="'6LcFnCQTAAAAAGU0Wowjk1y_fsaItUZ3lfftgH7U'"
                                class="visible-xs"
                                style="-moz-transform:scale(0.77); -ms-transform:scale(0.77); -o-transform:scale(0.77); -moz-transform-origin:0; -ms-transform-origin:0; -o-transform-origin:0; -webkit-transform:scale(0.77); transform:scale(0.77); -webkit-transform-origin:0 0; transform-origin:0; filter: progid:DXImageTransform.Microsoft.Matrix(M11=0.77,M12=0,M21=0,M22=0.77,SizingMethod='auto expand');"
                                ></div>

                            <button class="btn bgm-lightblue waves-effect m-t-20"
                                    data-ng-disabled="!vm.formIsValid() || vm.loading"
                                    data-ng-click="vm.sendSupportMessage()">
                                Envoyer
                            </button>

                        </div>

                    </form>

                </div>
            </div>

        </div>
    </div>
</section>
