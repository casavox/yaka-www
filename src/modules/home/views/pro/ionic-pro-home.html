<ion-content scroll="false">
    <section class="login-container">
        <div class="row logo-name m-0">
            <img src="img/logoSansFond_PRO_40w.png" class="clean-img" alt="Logo CasaVox" width="60px" height="60px"/>
            <div class="c-orange casa-ionic-name">CASA<b>VOX</b></div>
        </div>
        <ion-slide-box class="ion-box" on-slide-changed="slideHasChanged($index)">
            <ion-slide class="ion-slide-item">
                <div class="center">
                    <div class="col text-center h-90 p-l-10 p-r-10">
                        <h4 class="middle" data-ng-class="{'xs-title' : vm.xsMobile}"><span
                            class="col f-w-300 f-s-17">Des services <b>pensés et validés par des Pros</b> du bâtiment</span></h4>
                    </div>
                    <div class="col p-t-0" data-ng-class="{'xs-service' : vm.xsMobile, 'sm-md-service' : !vm.xsMobile}">
                        <div class="card m-t-5 m-b-5 p-b-0 card-ionic-home service-box">
                            <div class="card-header no-padding">
                                <div class="pull-left img-pro-service">
                                    <img src="img/ionic-home/pro/bao.png" width="55px" height="55px" alt="image réseau">
                                </div>
                                <div class="p-b-0 p-t-5 p-l-80 p-r-15 pro-service-text">
                                    <h2 class="c-lightblue text-uppercase m-b-2">Bouche-à-oreille connecté</h2>
                                    <strong>CasaVox vous aide à étendre et faire vivre votre réseau de recommendation.</strong>
                                </div>
                            </div>
                        </div>
                        <div class="card m-t-5 m-b-5 p-b-0 card-ionic-home service-box">
                            <div class="card-header no-padding">
                                <div class="pull-left img-pro-service">
                                    <img src="img/ionic-home/pro/notifclient.png" width="55px" height="55px" alt="image notification">
                                </div>
                                <div class="p-b-0 p-t-5 p-l-80 p-r-15 pro-service-text">
                                    <h2 class="c-lightblue text-uppercase m-b-2">Gestion de la relation client</h2>
                                    <strong>Vos anciens clients ont des travaux à réaliser : vous en êtes automatiquement informé !</strong>
                                </div>
                            </div>
                        </div>
                        <div class="card m-t-5 m-b-5 p-b-0 card-ionic-home service-box">
                            <div class="card-header no-padding">
                                <div class="pull-left img-pro-service">
                                    <img src="img/ionic-home/pro/likepro.png" width="55px" height="55px" alt="image recommendation">
                                </div>
                                <div class="p-b-0 p-t-5 p-l-80 p-r-15 pro-service-text">
                                    <h2 class="c-lightblue text-uppercase m-b-2">Gestion de votre réputation</h2>
                                    Pas d'étoile, pas de note négative, les clients satisfaits vous recommandent à leurs proches.
                                </div>
                            </div>
                        </div>
                        <div class="card m-t-5 m-b-5 p-b-0 card-ionic-home service-box">
                            <div class="card-header no-padding">
                                <div class="pull-left img-pro-service">
                                    <img src="img/ionic-home/pro/start.png" width="55px" height="55px" alt="image gratuité">
                                </div>
                                <div class="p-b-0 p-t-5 p-l-80 p-r-15 pro-service-text">
                                    <h2 class="c-lightblue text-uppercase m-b-2">Gratuit et sans engagement</h2>
                                    <strong>Ni RIB, ni CB, inscrivez-vous dès maintenant pour essayer tous les services librement.</strong>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </ion-slide>
            <ion-slide class="ion-slide-item">
                <div class="center">
                    <div class="col text-center h-90 p-l-10 p-r-10">
                        <h4 class="middle"><span class="col f-w-300 f-s-17">Répondez aux offres, suivez les besoins de vos clients et de leurs proches</span>
                        </h4>
                    </div>
                    <div class="col p-0 text-center">
                        <img src="img/ionic-home/pro/PRO_2.png" class="casa-ionic-logo"/>
                    </div>
                </div>
            </ion-slide>
            <ion-slide class="ion-slide-item">
                <div class="center">
                    <div class="col text-center h-90 p-l-10 p-r-10">
                        <h4 class="middle"><span class="col f-w-300 f-s-17">Pas de temps à perdre : <b>discutez en direct avec le client</b>, partagez photos et devis...</span>
                        </h4>
                    </div>
                    <div class="col p-0 text-center">
                        <img src="img/ionic-home/pro/PRO_3.png" class="casa-ionic-logo"/>
                    </div>
                </div>
            </ion-slide>
            <ion-slide class="ion-slide-item">
                <div class="center">
                    <div class="col text-center h-90 p-l-10 p-r-10">
                        <h4 class="middle"><span
                            class="col f-w-300 f-s-17">Développez votre réseau clients</br>
                            <b>Gagnez de nouveaux chantiers</b></span></h4>
                    </div>
                    <div class="col p-0 text-center">
                        <img src="img/ionic-home/pro/PRO_4.png" class="casa-ionic-logo"/>
                    </div>
                </div>
            </ion-slide>

            </div>
        </ion-slide-box>

        <div class="col button-row ion-flex-2">
            <div class="col button-row text-center">
                <button class="button button-small button-positive bgm-lightblue ion-facebook-button"
                        data-ng-click="vm.facebookLogin()">
                    SE CONNECTER AVEC FACEBOOK
                </button>
            </div>
            <div class="row m-r-0 m-l-0 center connect-register">
                <div class="col text-center">
                    <h5 class="t-center m-t-0 m-b-0 subtitle-color-forced underline"
                        ng-click="vm.login.show(); vm.loginTab = true;">- Ou par mail -</h5>
                </div>
            </div>

            <div class="col text-center">
                <h6 class="col t-center m-t-0 m-b-0 subtitle-color-forced">
                    <b><span class="c-lightblue">Particulier à la recherche d'un pro ?</b></br>
                    <u><b>Télécharger CasaVox pour les particuliers</b></u></h6>
            </div>
        </div>
    </section>
</ion-content>

<script id="login-popup.html" type="text/ng-template">
    <ion-modal-view>
        <ion-header-bar>
            <h1 class="title t-center">CASAVOX</h1>
            <img class="popupCloseButton popupCloseIonic" data-ng-if="!vm.noSocialAccountMessage"
                 src="icons/mdpi/ic_popup_close.png"
                 data-ng-click="vm.login.hide()" alt=""/>
        </ion-header-bar>
        <ion-content>
            <div class="container">
                <div id="loginPopup" class="yakaPopupWindow col-xs-12" data-ng-click="$event.stopPropagation()">
                    <div data-ng-if="!vm.noSocialAccountMessage">

                        <div class="loginPopupTabItem col-xs-6" data-ng-class="{loginPopupTabItemActive: vm.loginTab}"
                             data-ng-click="vm.loginTab = true">
                            CONNEXION
                        </div>
                        <div class="loginPopupTabItem col-xs-6" data-ng-class="{loginPopupTabItemActive: !vm.loginTab}"
                             data-ng-click="vm.loginTab = false">
                            INSCRIPTION
                        </div>

                        <div data-ng-show="vm.loginTab">

                            <form name="loginPro" class="col-xs-12 no-padding">
                                <div class="form-group fg-float"
                                     data-ng-class="{'has-error': vm.formProLoginError && !vm.loginUser.email}">
                                    <div class="fg-line m-t-10">
                                        <input class="form-control fg-input"
                                               type="text"
                                               name="email"
                                               autocomplete="username"
                                               data-ng-model="vm.loginUser.email"
                                               data-ng-keyup="$event.keyCode == 13 && vm.loginFormIsValid() && vm.login()"
                                               yaka-input-email/>
                                        <label class="fg-label">Email</label>
                                    </div>
                                    <div data-ng-messages="loginPro.email.$error">
                                        <small class="help-block t-left"
                                               data-ng-show="vm.formProLoginError && vm.loginUser.email.length < 1">
                                            Ce champ est requis
                                        </small>
                                        <small class="help-block" data-ng-message="invalidEmail">
                                            Cette addresse Email n'est pas valide
                                        </small>
                                    </div>
                                </div>

                                <div class="form-group fg-float m-b-10"
                                     data-ng-class="{'has-error': vm.formProLoginError && !vm.loginUser.password}">
                                    <div class="fg-line m-t-20">
                                        <input class="form-control"
                                               type="password"
                                               name="password"
                                               autocomplete="current-password"
                                               data-ng-model="vm.loginUser.password"
                                               data-ng-keyup="$event.keyCode == 13 && vm.loginFormIsValid() && vm.login()"/>
                                        <label class="fg-label">Mot de
                                            passe</label>

                                        <small class="help-block"
                                               data-ng-show="vm.formProLoginError && !vm.loginUser.password">
                                            Ce champs est requis
                                        </small>
                                    </div>
                                </div>
                            </form>


                            <button
                                class="col-xs-12 btn btn-lg bgm-orange loginPopupButton waves-effect"
                                data-ng-click="vm.userLogin()">
                                SE CONNECTER
                            </button>

                            <div class="col-xs-12 passwordForgotten passwordForgottenPro underline">
                                <span data-ng-click="vm.forgottenPassword.show();
                                 vm.forgottenPasswordUser.email = vm.loginUser.email;
                                  vm.showForgottenPasswordPopup = true">J'ai oublié mon mot de passe</span>
                            </div>
                        </div>

                        <div data-ng-show="!vm.loginTab">
                            <div class="col-xs-12 proHomeSection2RegisterFacebookGoogle t-center p-l-0 p-r-0">
                                <span data-ng-if="!vm.isSocialRegister()">Inscription rapide via Facebook</span>

                                <div data-ng-if="vm.isSocialRegister()">
                                    <div class="proHomeSection2RegisterSocialConfirm p-l-0 p-r-0">
                                        Inscription via {{vm.getSocialServiceName()}}
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-6 col-xs-offset-3 proHomeSection2RegisterFacebook t-center waves-effect"
                                 data-ng-click="vm.facebookPreRegister()"
                                 data-ng-if="!vm.isSocialRegister()">
                                Facebook
                            </div>

                            <div class="col-xs-4 col-xs-offset-4 proHomeSection2RegisterSeparator"/>

                            <div class="col-xs-12 m-b-30 t-center proHomeSection2RegisterMail">
                    <span class="registerWithEmailMessagePro pointer"
                          data-ng-if="!vm.isSocialRegister()">Inscription par email<small><br>(Complétez tous les
                        champs)
                    </small></span>
                                <span
                                    data-ng-if="vm.isSocialRegister()">Complétez les champs ci-dessous pour finaliser votre inscription</span>
                            </div>

                            <div class="form-group fg-float halfInput m-b-20"
                                 data-ng-class="{'has-error' : vm.formRegisterError && !vm.newUser.firstName}">
                                <div class="fg-line">
                                    <input class="form-control form-pro-register"
                                           name="fname"
                                           autocomplete="given-name"
                                           data-ng-model="vm.newUser.firstName"
                                           data-ng-disabled="vm.isSocialRegister()" yaka-input-name/>
                                    <label class="fg-label">Prénom</label>
                                </div>
                                <small class="help-block t-left"
                                       data-ng-show="vm.formRegisterError && vm.newUser.firstName.length < 1">
                                    Ce champs est requis
                                </small>
                                <div data-ng-messages="registerForm.fname.$error">
                                    <small class="help-block t-left c-red"
                                           data-ng-message="invalidName">
                                        Ce prénom n'est pas valide
                                    </small>
                                </div>
                            </div>
                            <div class="form-group fg-float halfInput halfInputRight m-b-20"
                                 data-ng-class="{'has-error' : vm.formRegisterError && !vm.newUser.lastName}">
                                <div class="fg-line">
                                    <input class="form-control form-pro-register"
                                           name="lname"
                                           autocomplete="family-name"
                                           data-ng-model="vm.newUser.lastName"
                                           data-ng-disabled="vm.isSocialRegister()" yaka-input-name/>
                                    <label class="fg-label">Nom</label>
                                </div>
                                <small class="help-block t-left"
                                       data-ng-show="vm.formRegisterError && vm.newUser.lastName.length < 1">
                                    Ce champs est requis
                                </small>
                                <div data-ng-messages="registerForm.lname.$error">
                                    <small class="help-block t-left c-red"
                                           data-ng-message="invalidName">
                                        Ce nom n'est pas valide
                                    </small>
                                </div>
                            </div>


                            <div class="form-group fg-float m-b-20 col-xs-12 no-padding"
                                 data-ng-class="{'has-error' : vm.formRegisterError && !vm.newUser.email}">
                                <div class="fg-line">
                                    <input class="form-control form-pro-register"
                                           name="email"
                                           autocomplete="username"
                                           data-ng-model="vm.newUser.email" yaka-input-email/>
                                    <label class="fg-label">Email du
                                        représentant</label>
                                </div>
                                <small class="help-block t-left"
                                       data-ng-show="vm.formRegisterError && vm.newUser.email.length == 0">
                                    Ce champs est requis
                                </small>
                                <div data-ng-messages="registerForm.email.$error">
                                    <small class="help-block t-left c-red"
                                           data-ng-message="invalidEmail">
                                        Cet email n'est pas valide
                                    </small>
                                </div>
                            </div>


                            <div class="form-group fg-float m-b-20 col-xs-12 no-padding"
                                 data-ng-class="{'has-error' : vm.formRegisterError && vm.newUser.password.length < 6}">
                                <div class="fg-line">
                                    <input class="form-control form-pro-register"
                                           type="password"
                                           name="password"
                                           autocomplete="new-password"
                                           data-ng-model="vm.newUser.password"/>
                                    <label class="fg-label">Mot de
                                        passe</label>
                                </div>
                                <small class="help-block t-left"
                                       data-ng-show="vm.formRegisterError && vm.newUser.password == 0">
                                    Ce champs est requis
                                </small>
                                <small class="help-block t-left"
                                       data-ng-hide="vm.newUser.password.length < 1 || vm.newUser.password.length >= 6">
                                    Trop court : 6 caractères minimum
                                </small>
                            </div>


                            <div class="form-group fg-float m-b-20 col-xs-12 no-padding"
                                 data-ng-class="{'has-error' : vm.formRegisterError && vm.passwordConfirm.length < 6 || vm.formRegisterError && vm.newUser.password != vm.passwordConfirm}">
                                <div class="fg-line">
                                    <input class="form-control form-pro-register"
                                           type="password"
                                           data-ng-model="vm.passwordConfirm"/>
                                    <label class="fg-label">Confirmation
                                        de mot de passe</label>
                                </div>
                                <small class="help-block t-left"
                                       data-ng-show="vm.formRegisterError && vm.passwordConfirm == 0">
                                    Ce champs est requis
                                </small>
                                <small class="help-block c-red t-left"
                                       data-ng-hide="vm.passwordConfirm.length < 1 || vm.newUser.password == vm.passwordConfirm">
                                    Les mots de passe ne correspondent pas
                                </small>
                            </div>

                            <div class="form-group fg-float p-static clearfix m-b-20 col-xs-12 no-padding"
                                 data-ng-class="{'has-error': vm.formRegisterError && !vm.newUser.professional.phoneNumber}">
                                <div class="fg-line pro-register-phone">
                                    <input type="text" name="phoneNumber"
                                           class="form-control pro-phone-reg-input"
                                           data-ng-model="vm.newUser.professional.phoneNumber" yaka-input-phone>
                                    <label class="fg-label fg-label-phone">Téléphone</label>
                                </div>
                                <div data-ng-messages="profileForm.phoneNumber.$error">
                                    <small class="help-block t-left"
                                           data-ng-show="vm.formRegisterError && !vm.newUser.professional.phoneNumber">
                                        Ce champ est requis
                                    </small>
                                    <small class="help-block" data-ng-message="invalidPhone">
                                        Ce numéro de téléphone n'est pas valide
                                    </small>
                                </div>
                            </div>

                            <div class="form-group fg-float m-b-20 col-xs-12 no-padding"
                                 data-ng-class="{'has-error' : vm.formRegisterError && !vm.newUser.professional.company.address.address}">
                                <div class="fg-line">
                                    <input type="text"
                                           class="form-control form-pro-register"
                                           name="address"
                                           id="address"
                                           ng-model="vm.newUser.professional.company.address.address"
                                           data-ng-maxlength="5"
                                           maxlength="5"
                                           placeholder=""
                                           uib-typeahead="address for address in getLocation($viewValue)"/>
                                    <label class="fg-label">Code postal de l'entreprise</label>
                                </div>
                                <small class="help-block t-left"
                                       data-ng-if="vm.formRegisterError && !vm.newUser.professional.company.address.address">
                                    Merci d'indiquer le code postal puis de sélectionner la commune
                                </small>
                            </div>


                            <div>
                                <div class="proHomeSection2ActivitiesInput m-b-20"
                                     data-ng-class="{'multi-select-red' : vm.formRegisterError && vm.multiChoiceInput.selected.length == 0}"
                                     data-ng-dropdown-multiselect=""
                                     options="vm.multiChoiceInput.options"
                                     selected-model="vm.multiChoiceInput.selected"
                                     extra-settings="vm.multiChoiceInput.settings"
                                     translation-texts="vm.multiChoiceInput.translation"
                                     data-ng-click="vm.deleteErrorIfSelected()"
                                     checkboxes="true"></div>

                            </div>
                            <div>
                                <div class="col-xs-12 no-padding select m-b-15">
                                    <select class="form-control select-pro-register"
                                            data-ng-model="vm.newUser.referral">
                                        <option value="" disabled="disabled">Comment nous avez-vous connu ?
                                            (facultatif)
                                        </option>
                                        <option value="REFERRAL_SEARCH">Recherche internet</option>
                                        <option value="REFERRAL_FRIEND">Par connaissance</option>
                                        <option value="REFERRAL_SOCIAL">Réseaux sociaux</option>
                                        <option value="REFERRAL_LM">Leroy Merlin</option>
                                        <option value="REFERRAL_INVITATION">Invitation Casavox</option>
                                        <option value="REFERRAL_OTHER">Autre</option>
                                    </select>
                                </div>

                            </div>
                            <div>
                                <div class="col-xs-12 no-padding form-group fg-float m-b-10 m-t-10"
                                     data-ng-if="vm.newUser.referral == 'REFERRAL_OTHER'">
                                    <div class="fg-line">
                                        <input type="text"
                                               name="BY_OTHER"
                                               autocomplete="given-name"
                                               class="form-control fg-input input-sm input-pro-other"
                                               data-ng-model="vm.referralOther">
                                        <label class="fg-label">Entrez votre source</label>
                                    </div>
                                </div>

                            </div>
                            <div>
                                <button
                                    class="col-xs-12 proHomeSection2Button btn btn-lg bgm-orange m-b-15 waves-effect"
                                    data-ng-click="vm.registerUser()">
                                    S'INSCRIRE
                                </button>
                            </div>
                        </div>

                        <div data-ng-if="vm.noSocialAccountMessage">
                            <div class="noSocialAccountMessage">
                                Ce compte {{vm.socialNetwork}} nous est inconnu.<br/>
                                Essayez de vous connecter avec votre email et votre mot de passe ou de créer un compte
                                en bas de
                                cette page.
                            </div>
                            <button
                                class="col-xs-12 btn btn-lg bgm-orange loginPopupButton waves-effect"
                                data-ng-click="vm.noSocialAccountMessage = false">
                                OK
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </ion-content>
    </ion-modal-view>
</script>


<script id="forgotten-password.html" type="text/ng-template">
    <ion-modal-view>
        <ion-header-bar>
            <h1 class="title">Mot de passe oublié ?</h1>
            <img class="popupCloseButton popupCloseIonic" data-ng-if="!vm.noSocialAccountMessage"
                 src="icons/mdpi/ic_popup_close.png"
                 data-ng-click="vm.forgottenPassword.hide()" alt=""/>
        </ion-header-bar>
        <ion-content>
            <div class="container">
                <div class="yakaPopupWindow col-xs-12" data-ng-click="$event.stopPropagation()">
                    <div data-ng-if="!vm.passwordForgottenMessageSent">

                        <form name="recoverPassword">
                            <div class="form-group fg-float m-t-30"
                                 data-ng-class="{'has-error': vm.formLostPasswordError && !vm.forgottenPasswordUser.email}">
                                <div class="fg-line">
                                    <input type="text"
                                           name="username"
                                           autocomplete="username"
                                           data-ng-disabled="vm.isSocialRegister()"
                                           class="form-control fg-input input-sm"
                                           data-ng-model="vm.forgottenPasswordUser.email"
                                           yaka-input-email>
                                    <label class="fg-label">Email</label>
                                </div>
                                <small class="help-block"
                                       data-ng-show="vm.formLostPasswordError && vm.forgottenPasswordUser.email.length < 1">
                                    Ce champs est requis
                                </small>
                                <div data-ng-messages="recoverPassword.username.$error">
                                    <small class="help-block" data-ng-message="invalidEmail">Cet email n'est pas
                                        valide
                                    </small>
                                </div>
                            </div>
                        </form>
                        <button
                            class="col-xs-12 btn btn-lg bgm-lightblue loginPopupButton passwordForgottenButton waves-effect"
                            data-ng-click="vm.reinitializePassword()">RÉINITIALISER MON MOT DE PASSE
                        </button>
                    </div>
                    <div class="passwordForgottenMessageSent" data-ng-if="vm.passwordForgottenMessageSent">
                        Nous venons de vous envoyer un email contenant un lien qui vous permettra de réinitialiser votre
                        mot de
                        passe.
                    </div>
                </div>
            </div>
        </ion-content>
    </ion-modal-view>
</script>
