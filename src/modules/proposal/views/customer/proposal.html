<header id="header" data-current-skin="{{app.getTheme()}}" ng-include="'/modules/core/views/header.html'"
    ></header>

<aside id="sidebar" data-ng-include="'/modules/core/views/sidebar-left.html'"
       data-ng-class="{ 'toggled': app.sidebarToggle.left }"></aside>

<section id="main" ng-cloak>
    <div id="content" class="content">

        <div class="card" id="profile-main">
            <div class="pm-overview c-overflow mCustomScrollbar _mCS_7 mCS-autoHide" style="overflow: visible;">
                <div id="mCSB_7" class="mCustomScrollBox mCS-minimal-dark mCSB_vertical_horizontal mCSB_outside"
                     tabindex="0">
                    <div id="mCSB_7_container" class="mCSB_container mCS_x_hidden mCS_no_scrollbar_x"
                         style="position: relative; top: 0px; left: 0px; width: 100%;" dir="ltr">
                        <div class="pmo-pic">
                            <div class="p-relative">
                                <a href="">
                                    <img class="img-responsive mCS_img_loaded" src="img/profile-pics/profile-pic-2.jpg"
                                         alt="">
                                </a>

                                <div class="dropdown pmop-message" uib-dropdown="">
                                    <button uib-dropdown-toggle=""
                                            class="btn bgm-white btn-float dropdown-toggle waves-effect waves-circle"
                                            aria-haspopup="true" aria-expanded="false">
                                        <i class="zmdi zmdi-comment-text-alt"></i>
                                    </button>

                                    <div class="dropdown-menu stop-propagate">
                                        <textarea placeholder="Write something..."></textarea>

                                        <button class="btn bgm-green btn-float waves-effect waves-circle"><i
                                            class="zmdi zmdi-mail-send"></i></button>
                                    </div>
                                </div>

                                <a href="" class="pmop-edit">
                                    <i class="zmdi zmdi-camera"></i> <span
                                    class="hidden-xs">Update Profile Picture</span>
                                </a>
                            </div>


                            <div class="pmo-stat">
                                <h2 class="m-0 c-white">1562</h2>
                                Total Connections
                            </div>
                        </div>
                    </div>
                </div>
                <div id="mCSB_7_scrollbar_vertical"
                     class="mCSB_scrollTools mCSB_7_scrollbar mCS-minimal-dark mCSB_scrollTools_vertical"
                     style="display: block;">
                    <div class="mCSB_draggerContainer">
                        <div id="mCSB_7_dragger_vertical" class="mCSB_dragger"
                             style="position: absolute; min-height: 50px; display: block; height: 601px; max-height: 683px; top: 0px;"
                             oncontextmenu="return false;">
                            <div class="mCSB_dragger_bar" style="line-height: 50px;"></div>
                        </div>
                        <div class="mCSB_draggerRail"></div>
                    </div>
                </div>
                <div id="mCSB_7_scrollbar_horizontal"
                     class="mCSB_scrollTools mCSB_7_scrollbar mCS-minimal-dark mCSB_scrollTools_horizontal"
                     style="display: none;">
                    <div class="mCSB_draggerContainer">
                        <div id="mCSB_7_dragger_horizontal" class="mCSB_dragger"
                             style="position: absolute; min-width: 50px; width: 0px; left: 0px;"
                             oncontextmenu="return false;">
                            <div class="mCSB_dragger_bar"></div>
                        </div>
                        <div class="mCSB_draggerRail"></div>
                    </div>
                </div>
            </div>

            <div class="pm-body clearfix">

                <ul class="tab-nav tn-justified">
                    <li heading="Home"
                        data-ng-class="{'active': !vm.showChat}">
                        <a href="" ng-click="vm.showChat = false" class="ng-binding">Profil</a>
                    </li>

                    <li heading="Profile"
                        data-ng-class="{'active': vm.showChat}">
                        <a href="" ng-click="vm.showChat = true" class="ng-binding">Messages</a>
                    </li>
                </ul>


                <yaka-chat data-ng-show="vm.showChat" chat-id="{{vm.proposal.chat.id}}" user-me="app.getUser()"
                           user-other="vm.proposal.professional.user"></yaka-chat>

                <div data-ng-show="!vm.showChat">
                    <div class="pmb-block">
                        <div class="pmbb-header">
                            <h2>
                                <i class="zmdi zmdi-collection-text zmdi-hc-fw"></i> Présentation
                            </h2>
                        </div>
                        <div class="pmbb-body p-l-30">
                            <div class="pmbb-view">
                                {{vm.proposal.professional.aboutMe}}
                            </div>
                        </div>
                    </div>

                    <div class="pmb-block">
                        <div class="pmbb-header">
                            <h2><i class="zmdi zmdi-star zmdi-hc-fw"></i> Expérience et qualités</h2>
                        </div>
                        <div class="pmbb-body p-l-30">
                            <div class="pmbb-view">
                                <dl class="dl-horizontal">
                                    <dt>Métier</dt>
                                    <dd>
                                        {{vm.getExperienceYearNumber()}} ans d'expérience
                                    </dd>
                                </dl>
                                <dl class="dl-horizontal"
                                    data-ng-if="vm.proposal.professional.qualities && vm.proposal.professional.qualities.length > 0">
                                    <dt>Qualités reconnues</dt>
                                    <dd>
                                        <ul class="yaka-chips">
                                            <li data-ng-repeat="quality in vm.proposal.professional.qualities">
                                                {{'CRITERION_' + quality.name | translate}}
                                            </li>
                                        </ul>
                                    </dd>
                                </dl>
                                <dl class="dl-horizontal" data-ng-if="vm.proposal.professional.yakaProjectNumber">
                                    <dt>Projets réalisés</dt>
                                    <dd>
                                        <span
                                            data-ng-if="vm.proposal.professional.yakaProjectNumber > 1">
                                            <b>{{vm.proposal.professional.yakaProjectNumber}} projets</b> réalisés sur YakaClub
                                        </span>
                                        <span
                                            data-ng-if="vm.proposal.professional.yakaProjectNumber == 1">
                                            <b>1 projet</b> réalisé sur YakaClub
                                        </span>
                                    </dd>
                                </dl>
                                <dl class="dl-horizontal" data-ng-if="vm.proposal.professional.likes">
                                    <dt>Recommandations</dt>
                                    <dd>
                                        <span
                                            data-ng-if="vm.proposal.professional.likes > 1">
                                            <b>{{vm.proposal.professional.likes}} membres</b> recommandent cet artisan
                                        </span>
                                        <span
                                            data-ng-if="vm.proposal.professional.likes == 1">
                                            <b>1 membre</b> recommande cet artisan
                                        </span>
                                    </dd>
                                </dl>
                                <dl class="dl-horizontal"
                                    data-ng-if="vm.proposal.professional.partners && vm.proposal.professional.partners.length > 0">
                                    <dt>Partenaire</dt>
                                    <dd>
                                        <ul class="yaka-chips">
                                            <li data-ng-repeat="partner in vm.proposal.professional.partners">
                                                {{partner.name}}
                                            </li>
                                        </ul>
                                    </dd>
                                </dl>
                                <dl class="dl-horizontal"
                                    data-ng-if="vm.proposal.professional.certifications && vm.proposal.professional.certifications.length > 0">
                                    <dt>Certifications</dt>
                                    <dd>
                                        <ul class="yaka-chips">
                                            <li data-ng-repeat="certification in vm.proposal.professional.certifications">
                                                {{certification.name}}
                                            </li>
                                        </ul>
                                    </dd>
                                </dl>
                            </div>
                        </div>
                    </div>

                    <div class="pmb-block">
                        <div class="pmbb-header">
                            <h2><i class="zmdi zmdi-store zmdi-hc-fw"></i> Coordonnées</h2>
                        </div>
                        <div class="pmbb-body p-l-30">
                            <div class="pmbb-view">
                                <dl class="dl-horizontal" data-ng-if="vm.proposal.professional.phoneNumber">
                                    <dt>Téléphone</dt>
                                    <dd>{{vm.proposal.professional.phoneNumber}}</dd>
                                </dl>
                                <dl class="dl-horizontal" data-ng-if="vm.proposal.professional.user.email">
                                    <dt>Email</dt>
                                    <dd>{{vm.proposal.professional.user.email}}</dd>
                                </dl>
                                <dl class="dl-horizontal">
                                    <dt>Addresse</dt>
                                    <dd>
                                        <span class="whiteSpacePre"
                                              ng-if="vm.proposal.professional.company.address.address">{{vm.proposal.professional.company.address.address}}</span>
                                        <span class="whiteSpacePre"
                                              ng-if="!vm.proposal.professional.company.address.address">{{vm.proposal.professional.company.address.administrativeAreaLevel2}}</span>
                                    </dd>
                                </dl>
                            </div>
                        </div>
                    </div>
                    <div class="pmb-block">
                        <div class="pmbb-header">
                            <h2><i class="zmdi zmdi-collection-image zmdi-hc-fw"></i> Portfolio</h2>
                        </div>
                        <div class="pmbb-body p-l-30">
                            <div class="pmbb-view">
                                <div class="lightbox photos">
                                    <div
                                        data-src="{{vm.getClUrl(image.cloudinaryPublicId) | trusted}}"
                                        class="lightboxItemAngular col-md-3 col-sm-4 col-xs-6"
                                        ng-repeat="image in vm.proposal.professional.portfolio">
                                        <div class="lightbox-item p-item">
                                            <img
                                                ng-src="{{vm.getClUrlThumbnail(image.cloudinaryPublicId) | trusted}}"
                                                alt=""/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
